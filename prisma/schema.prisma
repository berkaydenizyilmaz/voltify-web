generator client {
  provider = "prisma-client"
  output   = "../src/app/generated/prisma"
}

datasource db {
  provider = "postgresql"
}

/// Gerçek tüketim verisi
model ActualConsumption {
  id        Int      @id @default(autoincrement())
  datetime  DateTime @unique
  value     Float    /// MWh
  createdAt DateTime @default(now()) @map("created_at")

  @@map("actual_consumption")
}

/// Tahminler
model Prediction {
  id             Int      @id @default(autoincrement())
  targetDatetime DateTime @map("target_datetime")
  modelName      String   @map("model_name") /// catboost, lightgbm, xgboost
  predictedValue Float    @map("predicted_value") /// MWh
  weatherData    Json     @map("weather_data") /// Hava durumu snapshot
  createdAt      DateTime @default(now()) @map("created_at")
  updatedAt      DateTime @updatedAt @map("updated_at")

  @@unique([targetDatetime, modelName])
  @@index([targetDatetime])
  @@map("predictions")
}
